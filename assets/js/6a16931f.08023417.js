"use strict";(self.webpackChunk_halo_dev_docs=self.webpackChunk_halo_dev_docs||[]).push([[46986],{67751:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var i=t(96600),a=(t(59496),t(49613));t(26401);const s={title:"\u4e0e\u81ea\u5b9a\u4e49\u6a21\u578b\u4ea4\u4e92",description:"\u4e86\u89e3\u5982\u679c\u901a\u8fc7\u4ee3\u7801\u7684\u65b9\u5f0f\u64cd\u4f5c\u6570\u636e"},r=void 0,o={unversionedId:"developer-guide/plugin/api-reference/extension-client",id:"developer-guide/plugin/api-reference/extension-client",title:"\u4e0e\u81ea\u5b9a\u4e49\u6a21\u578b\u4ea4\u4e92",description:"\u4e86\u89e3\u5982\u679c\u901a\u8fc7\u4ee3\u7801\u7684\u65b9\u5f0f\u64cd\u4f5c\u6570\u636e",source:"@site/docs/developer-guide/plugin/api-reference/extension-client.md",sourceDirName:"developer-guide/plugin/api-reference",slug:"/developer-guide/plugin/api-reference/extension-client",permalink:"/2.6.0-SNAPSHOT/developer-guide/plugin/api-reference/extension-client",draft:!1,editUrl:"https://github.com/halo-dev/docs/edit/main/docs/developer-guide/plugin/api-reference/extension-client.md",tags:[],version:"current",lastUpdatedBy:"nineya",lastUpdatedAt:1685441714,formattedLastUpdatedAt:"2023\u5e745\u670830\u65e5",frontMatter:{title:"\u4e0e\u81ea\u5b9a\u4e49\u6a21\u578b\u4ea4\u4e92",description:"\u4e86\u89e3\u5982\u679c\u901a\u8fc7\u4ee3\u7801\u7684\u65b9\u5f0f\u64cd\u4f5c\u6570\u636e"},sidebar:"tutorialSidebar",previous:{title:"API \u6743\u9650\u63a7\u5236",permalink:"/2.6.0-SNAPSHOT/developer-guide/plugin/api-reference/role-template"},next:{title:"\u9759\u6001\u8d44\u6e90\u4ee3\u7406",permalink:"/2.6.0-SNAPSHOT/developer-guide/plugin/api-reference/reverseproxy"}},p={},l=[{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:3}],d={toc:l};function c(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,i.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Halo \u63d0\u4f9b\u4e86\u4e24\u4e2a\u7c7b\u7528\u4e8e\u4e0e\u81ea\u5b9a\u4e49\u6a21\u578b\u6570\u636e\u4ea4\u4e92 ",(0,a.kt)("inlineCode",{parentName:"p"},"ExtensionClient")," \u548c ",(0,a.kt)("inlineCode",{parentName:"p"},"ReactiveExtensionClient"),"\u3002"),(0,a.kt)("p",null,"\u5b83\u4eec\u7684\u672c\u8d28\u5c31\u662f\u64cd\u4f5c\u6570\u636e\u5e93\uff0c\u533a\u522b\u5728\u4e8e ",(0,a.kt)("inlineCode",{parentName:"p"},"ExtensionClient")," \u662f\u963b\u585e\u5f0f API\uff0c\u800c ",(0,a.kt)("inlineCode",{parentName:"p"},"ReactiveExtensionClient")," \u662f\u54cd\u5e94\u5f0f API\uff0c\u63a5\u53e3\u8fd4\u56de\u503c\u53ea\u6709\u4e24\u79cd Mono \u6216 Flux\uff0c\u5b83\u4eec\u7531 ",(0,a.kt)("a",{parentName:"p",href:"https://projectreactor.io/"},"reactor")," \u63d0\u4f9b\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"public interface ReactiveExtensionClient {\n\n    /**\n     * Lists Extensions by Extension type, filter and sorter.\n     *\n     * @param type is the class type of Extension.\n     * @param predicate filters the reEnqueue.\n     * @param comparator sorts the reEnqueue.\n     * @param <E> is Extension type.\n     * @return all filtered and sorted Extensions.\n     */\n    <E extends Extension> Flux<E> list(Class<E> type, Predicate<E> predicate,\n        Comparator<E> comparator);\n\n    /**\n     * Lists Extensions by Extension type, filter, sorter and page info.\n     *\n     * @param type is the class type of Extension.\n     * @param predicate filters the reEnqueue.\n     * @param comparator sorts the reEnqueue.\n     * @param page is page number which starts from 0.\n     * @param size is page size.\n     * @param <E> is Extension type.\n     * @return a list of Extensions.\n     */\n    <E extends Extension> Mono<ListResult<E>> list(Class<E> type, Predicate<E> predicate,\n        Comparator<E> comparator, int page, int size);\n\n    /**\n     * Fetches Extension by its type and name.\n     *\n     * @param type is Extension type.\n     * @param name is Extension name.\n     * @param <E> is Extension type.\n     * @return an optional Extension.\n     */\n    <E extends Extension> Mono<E> fetch(Class<E> type, String name);\n\n    Mono<Unstructured> fetch(GroupVersionKind gvk, String name);\n\n    <E extends Extension> Mono<E> get(Class<E> type, String name);\n\n    /**\n     * Creates an Extension.\n     *\n     * @param extension is fresh Extension to be created. Please make sure the Extension name does\n     * not exist.\n     * @param <E> is Extension type.\n     */\n    <E extends Extension> Mono<E> create(E extension);\n\n    /**\n     * Updates an Extension.\n     *\n     * @param extension is an Extension to be updated. Please make sure the resource version is\n     * latest.\n     * @param <E> is Extension type.\n     */\n    <E extends Extension> Mono<E> update(E extension);\n\n    /**\n     * Deletes an Extension.\n     *\n     * @param extension is an Extension to be deleted. Please make sure the resource version is\n     * latest.\n     * @param <E> is Extension type.\n     */\n    <E extends Extension> Mono<E> delete(E extension);\n}\n")),(0,a.kt)("h3",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,a.kt)("p",null,"\u5982\u679c\u4f60\u60f3\u5728\u63d2\u4ef6\u4e2d\u6839\u636e name \u53c2\u6570\u67e5\u8be2\u83b7\u53d6\u5230 Person \u81ea\u5b9a\u4e49\u6a21\u578b\u7684\u6570\u636e\uff0c\u5219\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"private final ReactiveExtensionClient client;\n    \nMono<Person> getPerson(String name) {\n    return client.fetch(Person.class, name);\n}\n")),(0,a.kt)("p",null,"\u6216\u8005\u4f7f\u7528\u963b\u585e\u5f0f API:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"private final ExtensionClient client;\n\nOptional<Person> getPerson(String name) {\n  return client.fetch(Person.class, name);\n}\n")),(0,a.kt)("p",null,"\u6211\u4eec\u5efa\u8bae\u4f60\u66f4\u591a\u7684\u4f7f\u7528\u54cd\u5e94\u5f0f\u7684 ",(0,a.kt)("inlineCode",{parentName:"p"},"ReactiveExtensionClient")," \u53bb\u66ff\u4ee3 ",(0,a.kt)("inlineCode",{parentName:"p"},"ExtensionClient"),"\u3002"))}c.isMDXComponent=!0}}]);